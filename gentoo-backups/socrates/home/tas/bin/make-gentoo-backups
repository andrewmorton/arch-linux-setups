#!/bin/bash
#Backs up all of the stuff I care about in gentoo
backup_array_config="${HOME}/bin/backup_array_config.txt"
git_repo_root="${HOME}/repos/local-linux-setups"
repo_backup="${HOME}/repos/local-linux-setups/gentoo-backups/socrates"

readarray -t backup_array < $backup_array_config

for dir in "${backup_array[@]}"
do
mkdir -p $repo_backup/$( realpath $dir) && cp -r $dir/* $repo_backup/$dir
done

cd $git_repo_root
git add .
git commit -m "$( date ) backup of gentoo"
git push
